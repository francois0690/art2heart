<div class="pieces">

  <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <% if piece.photos.count > 1 %>
        <% piece.photos.each_with_index  do |photo, i| %>
          <% if i.zero? %>
            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
          <% else %>
            <li data-target="#carouselExampleCaptions" data-slide-to=<%= i %>></li>
          <% end %>
        <% end %>
      <% end %>
    </ol>
    <div class="carousel-inner">
      <% piece.photos.each_with_index  do |photo, i| %>
        <% if i.zero? %>
          <div class="carousel-item active">
        <% else %>
          <div class="carousel-item">
        <% end %>
            <%= cl_image_tag photo.key ,width: 600, height: 600, crop: :fill , gravity: :face, class: "d-block w-100" %>
          </div>
        <%end %>
      </div>

      <% if piece.photos.count > 1 %>

        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Pr√©cedent</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Suivant</span>
        </a>
      <% end %>
    </div>


  </div>
